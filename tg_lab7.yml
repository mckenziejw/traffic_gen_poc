---
# This file defines the traffic to be generated by the traffic generator tools
scenario:
  - decription: GET all servers from 1
    service_type: web
    service_host: web-client-1
    action:
      type: get
      targets:
        - http://web-server-1-lan # 2
        - http://web-server-2-lan # 2
        - http://web-server-3-lan # 3
        - http://web-server-4-lan # 4
      uri: /employees
      # The loop_for setting determines how many times and how often the action is performed
      # 0 = Loop until interrupted
      # 1 = Do not loop
      # Any integer > 1 will create a loop that runs that number of times
      loop_for: 0
      loop_delay:
      # Creates an, optionally random, delay between loops.
      # To have a consistent delay set min = max
        min: 2
        max: 10
        # supported randomize methods are 'random', 'normal' (normally distributed around the mean)
        randomize_method: random
    # The create_thread setting configures multithreading. If True, the action will run in its own thread
    # So later actions can continue while it runs
      create_thread: True
  - decription: GET all servers from 2
    service_type: web
    service_host: web-client-2
    action:
      type: get
      targets:
        - http://web-server-1-lan # 2
        - http://web-server-2-lan # 2
        - http://web-server-3-lan # 3
        - http://web-server-4-lan # 4
      uri: /employees
      loop_for: 0
      loop_delay:
        min: 2
        max: 10
        randomize_method: random
      create_thread: True
  - decription: GET all servers from 3
    service_type: web
    service_host: web-client-3
    action:
      type: get
      targets:
        - http://web-server-1-lan # 2
        - http://web-server-2-lan # 2
        - http://web-server-3-lan # 3
        - http://web-server-4-lan
      uri: /employees
      loop_for: 0
      loop_delay:
        min: 2
        max: 10
        randomize_method: random
      create_thread: True
  - decription: GET all servers from 4
    service_type: web
    service_host: web-client-4
    action:
      type: get
      targets:
        - http://web-server-1-lan # 2
        - http://web-server-2-lan # 2
        - http://web-server-3-lan # 3
        - http://web-server-4-lan
      uri: /employees
      loop_for: 0
      loop_delay:
        min: 2
        max: 10
        randomize_method: random
      create_thread: True
  - decription: POST all servers from 1
    service_type: web
    service_host: web-client-3
    action:
      type: post
      targets:
        - http://web-server-1-lan # 1
        - http://web-server-2-lan # 2
        - http://web-server-3-lan # 3
        - http://web-server-4-lan # 4
      uri: /employees
      payload:
        name: Tim
      loop_for: 1
      loop_delay:
        min: 2
        max: 10
        randomize_method: random
      create_thread: False
  - decription: Watch Youtube Web-client-1
    service_type: web
    service_host: web-client-1
    action:
      type: watch_youtube
      targets:
        - 215DsGlQ2LM&list=PLfUgcozInUuvn4p0qF11LTRPMRoLmhorU
      loop_for: 0
      loop_delay:
        min: 300
        max: 300
        randomize_method: random
      create_thread: True
  - decription: Watch Youtube wifi-client-1
    service_type: web
    service_host: wifi-client-4
    action:
      type: watch_youtube
      targets:
        - 215DsGlQ2LM&list=PLfUgcozInUuvn4p0qF11LTRPMRoLmhorU
      loop_for: 0
      loop_delay:
        min: 300
        max: 300
        randomize_method: random
      create_thread: True
  - decription: Browse Wikipedia client 2
    service_type: web
    service_host: web-client-2
    action:
      type: get
      targets:
        - https://en.wikipedia.org/wiki/Bastille_Day
        - https://en.wikipedia.org/wiki/French_Revolution
        - https://en.wikipedia.org/wiki/Kingdom_of_France
        - https://en.wikipedia.org/wiki/Hundred_Years%27_War
        - https://en.wikipedia.org/wiki/Low_Countries
        - https://en.wikipedia.org/wiki/Rome
      uri: /
      loop_for: 0
      loop_delay:
        min: 20
        max: 40
        randomize_method: random
      create_thread: True
  - decription: Watch Twitch client 3
    service_type: web
    service_host: web-client-3
    action:
      type: watch_twitch
      targets:
        - ''
      uri: /
      loop_for: 0
      loop_delay:
        min: 300
        max: 300
        randomize_method: random
      create_thread: True
  - description: Download file from GDrive client 4
    service_type: web
    service_host: web-client-4
    action:
      type: gdrive_download
      targets:
        - file/d/17qHXmUWoNKzAvNpyBaoObFwRt-Ev-MRB/view?usp=sharing
      uri: /
      loop_for: 0
      loop_delay:
        min: 10
        max: 30
        randomize_method: random
      create_thread: True
  - description: SQL connect client 2 server 3
    service_type: sql
    service_host: sql-client-1
    action:
      type: sql_connect
      targets:
        - sql-server-1-lan
      uri: /
      loop_for: 0
      loop_delay:
        min: 10
        max: 30
        randomize_method: random
      create_thread: True
  - description: Mongo Ping client 1 server 4
    service_type: mongo
    service_host: mongo-client-1
    action:
      type: mongo_ping
      targets:
        - mongo-server-2-lan
      uri: /
      loop_for: 0
      loop_delay:
        min: 10
        max: 30
        randomize_method: random
      create_thread: True
  - description: IoT client 1 server 2
    service_type: iot
    service_host: wifi-client-1
    action:
      type: iot_telemetry
      targets:
        - mongo-server-2-lan
      uri: /
      loop_for: 0
      loop_delay:
        min: 10
        max: 30
        randomize_method: random
      create_thread: True
  - description: IoT client 2 server 2
    service_type: iot
    service_host: wifi-client-2
    action:
      type: iot_telemetry
      targets:
        - mongo-server-2-lan
      uri: /
      loop_for: 0
      loop_delay:
        min: 10
        max: 30
        randomize_method: random
      create_thread: True
  - description: IoT client 3 server 2
    service_type: iot
    service_host: wifi-client-3
    action:
      type: iot_telemetry
      targets:
        - mongo-server-2-lan
      uri: /
      loop_for: 0
      loop_delay:
        min: 10
        max: 30
        randomize_method: random
      create_thread: True